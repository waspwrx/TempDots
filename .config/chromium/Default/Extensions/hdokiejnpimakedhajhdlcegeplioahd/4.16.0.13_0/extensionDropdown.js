ExtensionDropdown=function(e){var t,n,o=$(e.body),i=e.getElementById("items"),a=e.getElementById("searchResults"),l=e.getElementById("recentSites"),s=e.getElementById("identitiesMenuItem"),r=e.getElementById("matchingSitesTopLevel"),c=e.getElementById("matchingSites"),d=e.getElementById("addCustomItems"),u=$("#topLevelContainer"),p=$("#vaultMenuItem"),g=$("#addOmariaItems"),m=$("#allItems"),f=$("#groupLabel"),b=$("#backButton"),v=$("#debugconsole"),h=$("#encryptedExportMenuItem"),P=$("#wifiExportMenuItem"),I=$("#matchingSitesMenuItem"),y=$("#recentSitesMenuItem"),L=$("#container"),_=$("#searchInput"),S=$("#applicationsMenuItem"),T=$("#logoContainer"),C=$("#logoPartner"),E=null,w=function(){LPPlatform.setDropdownPopoverSize(L.outerHeight(),L.outerWidth())},x=null,M=null,k=null,D=null,A=null,O=null,F=null,N=null,B=null,R=null,H=null,V=null,G=!1,K=!1,z=!1,U=!1,j={},W=null,Y={},Z=[],q={},J=function(e){if(f.empty(),e){var t=e.getName(),n=(t=t.replace(/\\/g," \\ ")).indexOf("\\",t.length/2);if(-1===n&&(n=t.lastIndexOf("\\")),n>0){var o=LPTools.createElement("div","textOverflowContainer groupLabel");o.appendChild(LPTools.createElement("span",null,t.substring(0,n))),f.append(LPTools.createElement("span","textTail","Â "+t.substring(n))),f.append(o),LPTools.setupMiddleEllipsis(f)}else f.append(LPTools.createElement("span","groupLabel",t));f.find(".groupLabel").attr("title",e.toString())}};q.GroupState=function(e){var t=LPTools.getNavIndex();this.pop=function(n){e.rebuildItems(null,n),n&&LPTools.setNavIndex(t),J(e._model)}},q.SearchState=function(){var e=new q.CSSState("searchItem",{restoreKeyboardNav:!1});this.pop=function(){ge(),e.pop()}},q.TopLevelMatchingSitesState=function(e){var t=new q.CSSState("matchingSites"),n=new q.GroupState(e);this.pop=function(){n.pop(),t.pop()}},q.CSSState=(t=o.attr("class"),n=function(e){o.removeClass(t),o.addClass(e),t=e},function(e,o){var i=t;if(n(e),LPTools.getOption(o,"applyKeyboardNav",!0)){var a=LPTools.getOption(o,"selectFirst",!1);LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{selectFirst:a})}this.pop=function(){J(null),n(i),LPTools.getOption(o,"restoreKeyboardNav",!0)&&LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{displayItems:0===Z.length&&V?V.getItems():null}),o&&"function"==typeof o.onPop&&o.onPop()}});var Q,X=function(){ne();var t=bg.get("LPContentScriptFeatures").ziggy,n=bg.get("LPContentScriptFeatures").omaria;E={isZiggySet:t,isOmarSet:n,showHelpText:t};var o=function(){ee(),ce(),pe(E),LPTools.parseUserSpecificMenu(e.getElementById("mainMenu"),LPProxy.getAccountClass()),$("#username").text(bg.get("g_username")),setTimeout(function(){oe(E,0)}),Me(),t||($("#mainMenu").addClass("showIcons"),te()),bg.sendLpImprove("openicondropdown")},i=LPPlatform.getExtensionDropdownDelay();i>=0?setTimeout(o,i):o()},ee=function(){L.addClass("loading")},te=function(){w(),L.addClass("initialized"),LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{displayItems:V?V.getItems():null}),_.focus()},ne=function(){LPFeatures.updateFeatures({import:!0,noexport:!1,show_notes:!0,hideidentities:!1,show_formfills:!0})},oe=function(e){for(var t in LPProxy.initializeModel(),de(e),ae(e),K=!0,L.removeClass("loading"),Y)Y[t]();var n=_.val();n&&me(n),bg.sendTimingEvent("loadDropdown","start",window.performance.timing.navigationStart),bg.sendTimingEvent("loadDropdown","stop",window.performance.timing.loadEventEnd,{numberOfItems:LPProxy.getSites().concat(LPProxy.getNotes()).concat(LPProxy.getApplications()).length})},ie=function(e,t){t=t||{};return LPProxy.getPreference("showAcctsInGroups",!0)&&(e=LPProxy.assignItemsToGroups(e,!1),t.separateFavorites=!0),new Container(e,t)},ae=function(e){e.isOmarSet?((k=new Container(LPProxy.getAllItems(),$.extend({},e,{omarItems:!0,trackAction:!0}))).setElement(i),R=new Container(LPProxy.getCustomNoteTemplates().map(function(e){return new AddCustomItemDisplay(e)}),$.extend({},e,{additionalItemClasses:"addOmariaItem",autoExpandSingleItem:!1,value:"Custom"})),se(R.getItemCount())):((D=ie(LPProxy.getSites(),e)).setElement(i),(A=ie(LPProxy.getNotes(),e)).setElement(i),(O=new Container(LPProxy.getFormFills(),e)).setElement(i),(F=new Container(LPProxy.getApplications(),e)).setElement(i)),B=new Container(LPProxy.getAllItems(),$.extend({},e,{moreOptionsState:q.SearchState}))},le=function(e){var t=["extensionMenuItem","omariaMenuItem"];e&&e.attrs&&e.attrs.class&&(t=t.concat(e.attrs.class));var n=$.extend({},e.attrs,{class:t}),o=LPTools.createElement("li",n);return o.appendChild(LPTools.createElement("i",e.icon+" menuIcon")),o.appendChild(LPTools.createElement("span","name",e.name)),e.addMoreButton&&o.appendChild(LPTools.createElement("div","more")),n.childView&&$(o).bind("click",$e),e.onClick&&$(o).bind("click",e.onClick),o},se=function(e){var t=LPProxy.getRecordConfig(),n=LPProxy.getAllModelTypes();t.viewConfig.forEach(function(o){if(o.forEach(function(o){if("all"!==o){var a=LPProxy.getConfigViewObject(o);a.types.forEach(function(o){var l=LPProxy.getConfigTypeObject(o);(a.default||n.includes(l.recordType))&&m.append(le({attrs:{class:"omariaItem",childView:"omariaItems"},name:a.name,icon:t.icons[l.id],addMoreButton:!0,onClick:function(e){!function(e,t){switch(t&&k.applyFilter({showEmptyGroups:!1,func:function(e){return e instanceof GroupDisplay||e.getRecordType()===t}}),k.rebuildItems(i,!e.originalEvent.isTrusted),t){case"Account":Ee(k,"Empty_Site_Omaria",Strings.translateString("You can save and fill usernames and passwords for any website or app."),Strings.translateString("Add a password"),t);break;case"Generic":Ee(k,"Empty_Note_Omaria",Strings.translateString("Use a secure note to save important documents in your LastPass vault."),Strings.translateString("Add a secure note"),t);break;case"Address":Ee(k,"Empty_Address_Omaria",Strings.translateString("Add an address to auto-fill your email, phone number, and other contact info."),Strings.translateString("Add an address"),t);break;case"Credit Card":Ee(k,"Empty_Credit_Card_Omaria",Strings.translateString("Next time you go shopping, they'll be waiting!"),Strings.translateString("Add a payment card"),t);break;case"Bank Account":Ee(k,"Empty_Bank_Account_Omaria",Strings.translateString("Save and fill your bank accounts securely on any device with LastPass."),Strings.translateString("Add a bank account"),t)}}(e,l.recordType)}}));var s=null;l.recordType===t.TYPE.Custom?e>0&&(s=le({attrs:{class:"addOmariaItem",childView:"addCustomItems"},name:l.name,icon:t.icons[l.id],addMoreButton:!0,onClick:function(e){R.rebuildItems(d,!e.originalEvent.isTrusted)}})):s=le({attrs:{class:"addOmariaItem"},name:l.name,icon:t.icons[l.id],onClick:function(){re(l.recordType)}}),s&&g.append(s)})}}),o!==t.viewConfig[0]){if(!m[0].lastChild.classList.contains("omarSpacer")){var a=LPTools.createElement("li","omarSpacer");m.append(a)}var l=LPTools.createElement("li","omarSpacer");g.children().last().hasClass("omarSpacer")||g.append(l)}});var o=LPTools.createElement("li",{class:"extensionMenuItem addOmariaItem",value:"saveAll"},Strings.translateString("Save All Entered Data"));g.append(o),$('.addOmariaItem[value="saveAll"]').bind("click",function(){bg.lpevent("m_saed"),bg.get_selected_tab_data(null,function(e){bg.sendLpImprove("save_all_entered_data",{domain:bg.lp_gettld_url(e.url)})}),bg.saveall()})},re=function(e){bg.lpevent("m_add"),"Account"===e?bg.get_selected_tab_data_no_extension(null,function(e){he({defaultData:{url:e?e.url:""}})}):Pe({defaultData:{notetype:e}})},ce=function(){v.LP_removeAttr("style"),h.LP_removeAttr("style"),P.LP_removeAttr("style"),S.LP_removeAttr("style"),bg.is_user_debug_enabled()&&v.show(),bg.have_binary()&&(h.show(),bg.LPPlatform.isWin()&&P.show()),LPTools.hasProperties(bg.get("g_applications"))&&S.show(),LPFeatures.allowNotes()?$("#notesMenuItem").show():$("#notesMenuItem").hide()},de=function(t){if(t.isOmarSet&&(s=e.getElementById("omarIdentitiesMenuItem")),M=LPProxy.getIdentities(),LPProxy.enableCurrentIdentity(M),M.length>0){fe(x);for(var n=[],o=0,i=M.length;o<i;++o)n.push(M[o].newDisplayObject());new IdentityContainer(n,t).initialize(e.getElementById("identities"))}else $(s).hide()},ue=function(e,t,n){var o,i,a=function(e){var t=bg.lpmdec(e.extra,!0),n=/Language:(.+)/.exec(t);return n&&n.length>1?n[1].substr(0,2):"en"},l=[],s=[];for(o=0,i=W.length;o<i;++o){var r=LPProxy.getNoteModel(W[o].aid);if(r){var c=a(r._data);-1===s.indexOf(c)&&s.push(c)}}for(o=0,i=W.length;o<i;++o){var d=W[o].aid;if("account"===W[o].type)l.push(new MatchingAccountDisplay(LPProxy.getSiteModel(d)));else if("note"===W[o].type){var u=LPProxy.getNoteModel(d);l.push(new MatchingNoteDisplay(u,s.length>1?a(u._data):null))}}(V=new Container(l,t)).setElement(e),V.rebuildItems()},pe=function(t){for(var n=0,o=(W=bg.getmatchingsites(!1,!0,!1)).length;n<o;++n)j[W[n].aid]=!0;t.isZiggySet||LPProxy.getPreference("toplevelmatchingsites",!1)?(y.addClass("divider"),p.addClass("divider"),u.removeClass("hidden"),W.length>2?p.addClass("topLevelMatchesShadow"):(p.removeClass("topLevelMatchesShadow"),0===W.length&&(p.removeClass("divider"),u.addClass("hidden"))),be("topLevelMatchingSites",function(){ue(r,$.extend({},t,{autoExpandSingleItem:!1,moreOptionsElement:e.getElementById("matchingSites"),moreOptionsState:q.TopLevelMatchingSitesState,addLastClass:!1,trackAction:!0,sortFunction:VaultItemBaseDisplay.prototype.sortOmarMatchingItems})),te()})()):(0===W.length?I.LP_removeAttr("style"):(I.show(),$("#matchingSiteCounter").text(W.length)),p.removeClass("divider"),p.removeClass("topLevelMatchesShadow"),u.addClass("hidden"))},ge=function(){LPTools.removeDOMChildren(a);for(var e=0,t=N.length;e<t;++e){var n=N[e],o=n.build(E);n.postBuild(o),a.appendChild(o)}if(0===N.length){var i=LPTools.buildEmptyPlaceholder(Strings.translateString("No Matching Results"),"extensionSearchPlaceholder",a);a.appendChild(i)}LPTools.addKeyBoardNavigation(a.children,{rightArrowSelector:".moreItem",selectFirst:!0,displayItems:N})},me=(Q=null,function(e){e.length>0?(K&&(N&&N.forEach(function(e){e.hideInContextOptions()}),N=B.getSearchResultItems(e),ge()),G||(Le("search",{applyKeyboardNav:!1,onPop:function(){_.val("")}}),G=!0,bg.sendLpImprove("search",{source:"icon"}))):Q&&Q.length>0&&(_e(),G=!1),Q=e}),fe=function(t){var n=Strings.translateString("Identities")+" ("+t.getName()+")",o=s.firstChild;3!==o.nodeType?(o=e.createTextNode(n),s.insertBefore(o,s.firstChild)):o.textContent=n},be=function(e,t){return function(){K?t.apply(this,arguments):Y[e]=t}},ve=function(e){return e||(e={}),e.saveOptions={source:"icon"},e},he=function(e){bg.LPPlatform.openTabDialog("site",ve(e))},Pe=function(e){bg.LPPlatform.openTabDialog("note",ve(e))},Ie=function(e){bg.LPPlatform.openTabDialog("formFill",ve(e))},ye=function(e){e.appendChild(LPTools.createElement("li","extensionMenuItem none","None Available"))},Le=function(e,t){Z.push(new q.CSSState(e,t))},_e=function(e){var t=Z.pop();t&&t.pop(e)},Se=dialogs.generatePassword,Te=function(){Se.getDialog().close(),b.unbind("click",Te)},Ce=null,Ee=function(e,t,n,o,i){if(i=i||"Generic",e.isEmpty()){var a=LPTools.createElement("div","emptyView");a.appendChild(LPTools.createElement("img",{src:"images/vault_4.0/"+t+".png",class:"emptyViewIcon"})),a.appendChild(LPTools.createElement("h1","emptyViewText",n));var l=LPTools.createElement("input",{class:"addItem rbtn",type:"button",value:o,tabindex:-1});l.appendChild(LPTools.createElement("i","fa fa-trash")),a.appendChild(l),l.addEventListener("click",function(e){re(i)}),LPTools.addKeyBoardNavigation($(l),{selectFirst:!0}),document.getElementById("items").appendChild(a)}},we=function(e,t,n){if(e.isEmpty()){var o=LPTools.createElement("div","emptyView");o.appendChild(LPTools.createElement("img",{src:"images/vault_4.0/"+t,class:"emptyViewIcon"})),o.appendChild(LPTools.createElement("h1","emptyViewText",n)),document.getElementById("items").appendChild(o)}},xe=function(){bg.lpevent("m_logs"),bg.getConsoleLogs(function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","Extension_Logs.txt"),t.target="_blank",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})},Me=function(){bg.LPPartner&&bg.LPPartner.getPartnerInfo&&bg.LPPartner.getPartnerInfo(function(e){e&&($(a).addClass("partner-logo"),C.attr("src",e.logoUrl).removeClass(e.class).addClass(e.class),T.show(),w())})};_.LP_addSearchHandlers("inputDialog",function(e){me(e)}),b.bind("click",_e);var $e=function(e){var t;Le(function(e){for(var t=null;null!==e&&null===(t=e.getAttribute("childview"));)e=e.parentElement;return t}(e.target),{selectFirst:!e.originalEvent.isTrusted}),(t=e)&&(t.stopPropagation(),t.preventDefault())};$("[childview]").bind("click",$e),$("#addSite").bind("click",function(e){bg.get_selected_tab_data_no_extension(null,function(e){bg.lpevent("m_add"),he({defaultData:{url:e?e.url:""}}),LPPlatform.closePopup()}),e.stopPropagation()}),$("#saveAllEnteredData").bind("click",function(){bg.lpevent("m_saed"),bg.get_selected_tab_data(null,function(e){bg.sendLpImprove("save_all_entered_data",{domain:bg.lp_gettld_url(e.url)})}),bg.saveall()}),$("#addNote").bind("click",function(){bg.lpevent("m_addn"),Pe()}),$("#addFormFill").bind("click",function(){bg.lpevent("m_af"),Ie()}),$("#addCreditCard").bind("click",function(){bg.lpevent("m_af"),Ie({defaultData:{profiletype:FormFill.prototype.FORM_FILL_TYPE_CREDIT_CARD}})}),$("#clearForms").bind("click",function(){bg.lpevent("m_clrf"),bg.clearforms("icon")});var ke=null;$("#chooseProfile").bind("click",function(){dialogs.chooseProfile.open({preSetup:function(e){if(null===ke){var t=dialogs.chooseProfile.parentElementID,n=e.options.hideHeader;ke=function(){dialogs.chooseProfile.parentElementID=t,e.options.hideHeader=n,e.$element.css("min-height","")}}e.$element.css("min-height",0),dialogs.chooseProfile.parentElementID="chooseProfileCreditCard",e.options.hideHeader=!0},onClose:function(){_e()},saveOptions:{source:"icon"}})}),$("#vaultMenuItem").bind("click",function(){bg.lpevent("m_ov"),bg.openvault()}),$("#sitesMenuItem").bind("click",be("sites",function(e){D.rebuildItems(i,!e.originalEvent.isTrusted),we(D,"Empty_Site.png",Strings.translateString("Remember every password"))})),$("#formFillsMenuItem").bind("click",be("formFills",function(e){O.rebuildItems(i,!e.originalEvent.isTrusted),we(O,"Empty_Form.png",Strings.translateString("Fill Every Form"))})),$("#applicationsMenuItem").bind("click",be("applications",function(e){F.rebuildItems(i,!e.originalEvent.isTrusted),we(F,"Empty_Site.png",Strings.translateString("Remember every password"))})),$("#generateMenuItem").bind("click",function(){!0===bg.get("LPContentScriptFeatures").better_generate_password_enabled&&(Se=dialogs.betterGeneratePassword),Se.open({preSetup:function(e){if(null===Ce){var t=Se.parentElementID,n=e.options.hideHeader,o=e.dynamicHeight;Ce=function(){Se.parentElementID=t,e.options.hideHeader=n,e.useDynamicHeignt(o)}}Se.parentElementID="extensionDropdownGeneratePassword",e.options.hideHeader=!0,e.useDynamicHeignt(!1)},postSetup:function(e){LPPlatform.setDropdownPopoverSize(e.$element.outerHeight()+L.outerHeight(),L.outerWidth())},onClose:function(){_e(),w()},onCopy:function(){LPPlatform.closePopup(!0)},saveOptions:{source:"icon"}}),b.unbind("click",Te),b.bind("click",Te)}),$("#notesMenuItem").bind("click",be("notes",function(e){A.rebuildItems(i,!e.originalEvent.isTrusted),we(A,"Empty_Note.png",Strings.translateString("Store Every Note"))})),$("#clearMostRecent").bind("click",function(){bg.clearrecent(),LPTools.removeDOMChildren(l),ye(l)});var De=be("mostRecent",function(e){z||(!function(){var e=bg.getClearRecentTime(),t=bg.Preferences.get("recentUsedCount"),n=null;(n=bg.get("LPContentScriptFeatures").omaria?k.getItemChildren():D.getItemChildren().concat(A.getItemChildren())).sort(VaultItemBaseDisplay.prototype.sortByMostRecent);for(var o=[],i=0,a=n.length;i<a&&i<t;++i){var s=n[i];s.getLastTouchValue()>=e&&o.push(s._model.newDisplayObject())}o.length>0?(H=new Container(o,$.extend({},E,{sortFunction:VaultItemBaseDisplay.prototype.sortByMostRecent}))).initialize(l):ye(l)}(),z=!0),LPTools.addKeyBoardNavigation(l.children,{rightArrowSelector:".moreItem",selectFirst:!e.originalEvent.isTrusted,displayItems:H.getItems()})});y.bind("click",De);var Ae=be("matchingSites",function(t){U||(ue(c),U=!0),LPTools.addKeyBoardNavigation(e.getElementById("matchingSites").children,{rightArrowSelector:".moreItem",selectFirst:!t.originalEvent.isTrusted})});if(I.bind("click",Ae),$("#prefMenuItem").bind("click",function(){bg.lpevent("m_op"),bg.openprefs()}),$("#helpMenuItem").bind("click",function(){bg.lpevent("m_oh"),bg.openhelp()}),$("#adminConsoleMenuItem").bind("click",function(){bg.lpevent("m_oec"),bg.openentconsole()}),$("#logoutMenuItem").bind("click",function(){bg.lpevent("m_lo"),bg.loggedOut(!1,"menu")}),$("#challengeMenuItem").bind("click",function(){bg.lpevent("m_sec"),bg.openseccheck()}),$("#favoritesMenuItem").bind("click",function(){bg.lpevent("m_of"),bg.openfavorites(!1,"icon")}),$("#aboutMenuItem").bind("click",function(){bg.lpevent("m_abt"),bg.openabout()}),v.bind("click",function(){bg.lpevent("m_dbgcon"),bg.opendebugtab()}),$("#csvExportMenuItem").bind("click",function(){bg.lpevent("m_e"),bg.openexport()}),$("#formFillExportMenuItem").bind("click",function(){bg.lpevent("m_eff"),bg.formfillexport()}),h.bind("click",function(){bg.lpevent("m_elp"),bg.openlastpassexport()}),P.bind("click",function(){bg.lpevent("m_ewlan"),bg.wlanexport()}),$("#printSitesMenuItem").bind("click",function(){bg.lpevent("m_p"),bg.openprint(!1)}),$("#printNotesMenuItem").bind("click",function(){bg.lpevent("m_pn"),bg.openprint(!0)}),$("#refreshMenuItem").bind("click",function(){bg.lpevent("m_ref"),LPProxy.refreshSites()}),$("#clearCachMenuItem").bind("click",function(){bg.lpevent("m_cl"),bg.clearCache(!1,!0,!1)}),$("#myAccountMenuItem").bind("click",function(){bg.lpevent("m_mya"),bg.openmyaccount()}),$("#sessionsMenuItem").bind("click",function(){bg.lpevent("m_ses"),bg.opensessions()}),$("#downloadLogsMenuItem").bind("click",function(){xe()}),LPPlatform.addEventListener(window,"unload",function(){Ne()}),o.on("click",".extensionMenuItem, .footer, .contextOptionsDropdown",function(){LPPlatform.closePopup()}),LPFeatures.allowGift()){var Oe=$("#specialOfferMenuItem");Oe.show(),Oe.bind("click",function(){bg.openURL(LPProxy.getBaseURL()+"gift.php")})}$("#omarChallengeMenuItem").bind("click",function(){bg.lpevent("m_sec"),bg.openseccheck()}),$("#omarFavoritesMenuItem").bind("click",function(){bg.lpevent("m_of"),bg.openfavorites(!1,"icon")}),$("#omarPrefMenuItem").bind("click",function(){bg.lpevent("m_op"),bg.openprefs()}),$("#omarHelpMenuItem").bind("click",function(){bg.lpevent("m_oh"),bg.openhelp()}),$("#omarAboutMenuItem").bind("click",function(){bg.lpevent("m_abt"),bg.openabout()}),$("#omarRefreshMenuItem").bind("click",function(){bg.lpevent("m_ref"),LPProxy.refreshSites()}),$("#omarClearCachMenuItem").bind("click",function(){bg.lpevent("m_cl"),bg.clearCache(!1,!0,!1)}),$("#omarSessionsMenuItem").bind("click",function(){bg.lpevent("m_ses"),bg.opensessions()}),$("#omarDownloadLogsMenuItem").bind("click",function(){xe()}),Topics.get(Topics.PUSH_STATE).subscribe(function(e){Z.push(e)}),Topics.get(Topics.EDIT_SITE).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),he(e)}),Topics.get(Topics.EDIT_NOTE).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),Pe(e)}),Topics.get(Topics.EDIT_FORM_FILL).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),Ie(e)}),Topics.get(Topics.EDIT_APPLICATION).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),bg.LPPlatform.openTabDialog("application",e)}),Topics.get(Topics.IDENTITY_ENABLE).subscribe(function(e){LPProxy.enableIdentity(e),x=e}),Topics.get(Topics.CONFIRM).subscribe(function(e){Fe("confirmation",e)}),Topics.get(Topics.ERROR).subscribe(function(e){e&&Fe("alert",{title:Strings.Vault.ERROR,text:e})}),Topics.get(Topics.REPROMPT).subscribe(function(e){Fe("reprompt",{successCallback:e})}),Topics.get(Topics.LEFT_ARROW).subscribe(function(){LPTools.disableMouse(),_e(!0)}),Topics.get(Topics.CLEAR_DATA).subscribe(function(){for(var e=Z.length-1;e>-1;--e)Z[e].pop();Z=[],LPTools.setNavIndex(0),_.val(""),G=!1,K=!1,z=!1,U=!1,j={},Y={},W=null,Ce&&Ce(),ke&&ke(),L.removeClass("initialized"),m.empty(),g.empty(),Dialog.prototype.closeAllDialogs(!0)}),Topics.get(Topics.INITIALIZED).subscribe(function(){Strings.translate(e.body),LPPlatform.setupDropdownImportMenu(L)});var Fe=function(e,t){$("#container").LP_hide(),LPTools.removeKeyBoardNavigation(),t=$.extend(t,{onResize:function(e,t){LPPlatform.setDropdownPopoverSize(e,t)},onClose:function(){LPPlatform.closePopup()}}),LPDialog.openDialog(e,t)},Ne=function(){Topics.get(Topics.CLEAR_DATA).publish()};return{setup:X,State:q,isMatchingSite:function(e){return!0===j[e]},setGroupLabel:J,open:function(){var e=bg.get("g_badgedata");if(e&&"notification"===e.cmd){switch(e.alerttype){case"duplicate":Fe("duplicatePassword",{notification:e});break;case"weak":Fe("weakPassword",{notification:e})}switch(e.type){case"error":Fe("notification",{notification:bg.get("g_notification_data")});break;case"mpwchange":Fe("securityNotice",{notification:bg.get("g_notification_data")});break;case"lpalert":Fe("breachAlert",{notification:bg.get("g_notification_data")})}bg.clear_badge()}else $("#container").LP_show(),X()},openDialog:Fe,reset:Ne,setBigIcons:function(e){bg.set("g_bigicons",e)}}}(document);
//# sourceMappingURL=sourcemaps/extensionDropdown.js.map
